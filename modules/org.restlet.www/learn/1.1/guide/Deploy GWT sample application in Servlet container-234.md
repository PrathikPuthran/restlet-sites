Deploy GWT sample application in Servlet container
==================================================

Introduction
============

Since the example project provides a basic Restlet-powered server, it
should be easy to deploy it inside a servlet container. GWT does not
provide standard way to achieve this task, however, you can still get
more information at this URL :
[http://code.google.com/docreader/\#p=google-web-toolkit-doc-1-5&s=google-web-toolkit-doc-1-5&t=FAQ\_PackageAppInWARFile](http://web.archive.org/web/20101124063916/http://code.google.com/docreader/#p=google-web-toolkit-doc-1-5&s=google-web-toolkit-doc-1-5&t=FAQ_PackageAppInWARFile).

Our sample application is composed of:

-   a client part: static page and files generated by the compilation of
    the org.rest.example.gwt.SimpleExample class,
-   and a server part: serve resources called from the static page and
    serve the static files (via a Directory Restlet).

The main task is to generate a correct WAR file. Hopefully this is not
very difficult.

Set up the WAR file
===================

Here is the content of the target WAR file:

    + META-INF
        - MANIFEST.MF
    + WEB-INF
        - web.xml
        + lib
            - org.restlet.jar, com.noelios.restlet.jar: Restlet core archives
            - com.noelios.restlet.ext.servlet_2.5.jar: Servlet adapter for Restlet
            - org.restlet.ext.json_2.0.jar, org.json.jar: Json extension
            - RestletGWTSimpleExample.jar: generated by the ant script, contains the static pages and the code of the server application.

Here the content of the web.xml file:

    <?xml version="1.0" encoding="ISO-8859-1"?>
    <web-app>
       <context-param>
          <param-name>org.restlet.application</param-name>  
          <param-value>org.restlet.example.gwt.server.TestServerApplication</param-value>  
       </context-param> 
       <context-param>
          <param-name>org.restlet.clients</param-name>
          <param-value>HTTP CLAP</param-value>
       </context-param>
       <servlet>
          <servlet-name>adapter</servlet-name>
          <servlet-class>com.noelios.restlet.ext.servlet.ServerServlet</servlet-class>
       </servlet>
       <servlet-mapping>
          <servlet-name>adapter</servlet-name>
          <url-pattern>/*</url-pattern>
       </servlet-mapping>
    </web-app>

You may have to change either the URIs called from the static page, or
configure Tomcat in order to listen to the right port, and load the War
file with the right prefix. By default, the URIs are as follow :
"http://localhost:8888/ping", taht is to say port is equals to 8888 and
no application prefix.

